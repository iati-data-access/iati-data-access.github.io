(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{446:function(e,t,n){n(448)},448:function(e,t,n){"use strict";var r=n(11),o=n(24),c=n(17),l=n(55),f=n(26),d=n(157),v=n(36),h=n(79),O=n(197),m=n(298),_=n(27),y=n(56),w=_("replace"),j=TypeError,x=c("".indexOf),D=c("".replace),M=c("".slice),k=Math.max,G=function(e,t,n){return n>e.length?-1:""===t?n:x(e,t,n)};r({target:"String",proto:!0},{replaceAll:function(e,t){var n,r,c,_,S,$,R,N,T,E=l(this),P=0,L=0,A="";if(null!=e){if((n=d(e))&&(r=v(l(O(e))),!~x(r,"g")))throw j("`.replaceAll` does not allow non-global regexes");if(c=h(e,w))return o(c,e,E,t);if(y&&n)return D(v(E),e,t)}for(_=v(E),S=v(e),($=f(t))||(t=v(t)),R=S.length,N=k(1,R),P=G(_,S,0);-1!==P;)T=$?v(t(S,P,_)):m(S,_,P,[],void 0,t),A+=M(_,L,P)+T,L=P+R,P=G(_,S,P+N);return L<_.length&&(A+=M(_,L)),A}})},459:function(e,t,n){(function(t){var n=/^\s+|\s+$/g,r=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,c=/^0o[0-7]+$/i,l=parseInt,f="object"==typeof t&&t&&t.Object===Object&&t,d="object"==typeof self&&self&&self.Object===Object&&self,v=f||d||Function("return this")(),h=Object.prototype.toString,O=Math.max,m=Math.min,_=function(){return v.Date.now()};function y(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function w(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(y(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=y(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var f=o.test(e);return f||c.test(e)?l(e.slice(2),f?2:8):r.test(e)?NaN:+e}e.exports=function(e,t,n){var r,o,c,l,f,d,v=0,h=!1,j=!1,x=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function D(time){var t=r,n=o;return r=o=void 0,v=time,l=e.apply(n,t)}function M(time){return v=time,f=setTimeout(G,t),h?D(time):l}function k(time){var e=time-d;return void 0===d||e>=t||e<0||j&&time-v>=c}function G(){var time=_();if(k(time))return S(time);f=setTimeout(G,function(time){var e=t-(time-d);return j?m(e,c-(time-v)):e}(time))}function S(time){return f=void 0,x&&r?D(time):(r=o=void 0,l)}function $(){var time=_(),e=k(time);if(r=arguments,o=this,d=time,e){if(void 0===f)return M(d);if(j)return f=setTimeout(G,t),D(d)}return void 0===f&&(f=setTimeout(G,t)),l}return t=w(t)||0,y(n)&&(h=!!n.leading,c=(j="maxWait"in n)?O(w(n.maxWait)||0,t):c,x="trailing"in n?!!n.trailing:x),$.cancel=function(){void 0!==f&&clearTimeout(f),v=0,r=d=o=f=void 0},$.flush=function(){return void 0===f?l:S(_())},$}}).call(this,n(61))},460:function(e,t,n){var content=n(467);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(59).default)("e649ef00",content,!0,{sourceMap:!1})},463:function(e,t,n){"use strict";n.r(t);n(12),n(158),n(5),n(4),n(2),n(6),n(3),n(7);var r=n(13),o=n(0),c=(n(39),n(16),n(1),n(51),n(70),n(25),n(446),n(14),n(103),n(37)),l=n.n(c),f=n(459),d=n.n(f),v=n(69);function h(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,n)}return t}var O={props:{field:{default:null},fieldLabel:{default:null},fieldOptions:{default:function(){return[]}},updateField:{default:function(){return""}},value:{default:null},advancedSearch:{default:function(){}},searchMembers:{default:!1}},data:function(){return{selectedReportingOrganisationGroup:null,retrievedOptions:[]}},created:function(){var e=this;this.fetchOptionsDebounce=d()((function(t,n){e.fetchOptions(t,n)}),500)},computed:function(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?h(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):h(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}({noMatchingOptions:function(){return this.searchMembers?this.$t("dataDashboards.exactSearchTerm"):this.$t("dataDashboards.noMatchingOptions")},_fieldOptions:{get:function(){if(this.searchMembers){var e=this.retrievedOptions.map((function(e){return e.code}));return(this.value?this.value.reduce((function(summary,t){if(!e.includes(t)){var n={code:t,name:t.replaceAll("__SEMICOLON__",";"),label:t.replaceAll("__SEMICOLON__",";")};summary.push(n)}return summary}),[]):[]).concat(this.retrievedOptions)}return this.fieldOptions},set:function(e){this.searchMembers&&(this.retrievedOptions=e)}},_value:{get:function(){return this.value},set:function(e){this.updateField(this.field,e)}}},Object(v.b)(["reportingOrganisationGroup"])),methods:{handleReportingOrganisationGroups:function(){this._value=this.selectedReportingOrganisationGroup.items},fetchOptions:function(e,t){var n=this;return Object(r.a)(regeneratorRuntime.mark((function r(){var o,c;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(n.searchMembers){r.next=2;break}return r.abrupt("return");case 2:if(!["",null].includes(e)){r.next=4;break}return r.abrupt("return");case 4:return t(!0),o=function(){return n.field.startsWith("activity")?"iatiline":n.field.startsWith("provider_organisation")?"provider_organisation":n.field.startsWith("receiver_organisation")?"receiver_organisation":void 0}(),c="".concat(n.$config.baseURL,"/babbage/cubes/").concat(o,"/members/").concat(n.field,"/?order=").concat(n.field,"&cut=").concat(n.field,'~"').concat(e,'"&pagesize=1000'),r.next=10,l.a.get(c).then((function(e){n._fieldOptions=e.data.data.map((function(e){return{code:e[n.field].replaceAll(";","__SEMICOLON__"),name:e[n.field],label:e[n.field]}}))}));case 10:t(!1);case 11:case"end":return r.stop()}}),r)})))()}}},m=O,_=(n(466),n(38)),component=Object(_.a)(m,(function(){var e=this,t=e._self._c;return t("div",[t("b-form-group",{attrs:{label:e.fieldLabel}},[t("b-input-group",{staticClass:"nowrap no-margin"},[t("div",{staticClass:"w-100"},[t("b-form-group",[t("v-select",{staticStyle:{"min-width":"200px"},attrs:{multiple:"",options:e._fieldOptions,reduce:function(e){return e.code}},on:{search:e.fetchOptionsDebounce},scopedSlots:e._u([{key:"no-options",fn:function(t){t.search,t.searching,t.loading;return[e._v("\n              "+e._s(e.noMatchingOptions)+"\n            ")]}}]),model:{value:e._value,callback:function(t){e._value=t},expression:"_value"}})],1)],1),e._v(" "),e._value&&e._value.length>0?t("b-input-group-append",[t("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"outline-secondary",title:e.$t("dataDashboards.clearField")},on:{click:function(t){return e.updateField(e.field,[])}}},[t("font-awesome-icon",{attrs:{icon:["fas","xmark"]}})],1)],1):e._e(),e._v(" "),t("b-input-group-append",[t("b-btn",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover",modifiers:{hover:!0}}],attrs:{size:"sm",variant:"outline-secondary",title:e.$t("dataDashboards.advancedSearch")},on:{click:function(t){return e.advancedSearch(e.field,e.fieldLabel,e.searchMembers)}}},[t("font-awesome-icon",{attrs:{icon:["fas","magnifying-glass"]}})],1)],1)],1),e._v(" "),"reporting_organisation"==e.field?[t("b-btn",{directives:[{name:"b-modal",rawName:"v-b-modal.reporting-organisation-group",modifiers:{"reporting-organisation-group":!0}}],attrs:{variant:"link",size:"sm"}},[e._v(e._s(e.$t("dataDashboards.reportingOrganisationGroup.select")))]),e._v(" "),t("b-modal",{attrs:{title:e.$t("dataDashboards.reportingOrganisationGroup.select"),id:"reporting-organisation-group",okTitle:e.$t("dataDashboards.reportingOrganisationGroup.apply"),okDisabled:null==e.selectedReportingOrganisationGroup},on:{ok:e.handleReportingOrganisationGroups}},[t("b-form-group",{attrs:{label:e.$t("dataDashboards.reportingOrganisationGroup.label")}},[t("v-select",{attrs:{placeholder:e.$t("dataDashboards.reportingOrganisationGroup.selectOne"),options:e.reportingOrganisationGroup},model:{value:e.selectedReportingOrganisationGroup,callback:function(t){e.selectedReportingOrganisationGroup=t},expression:"selectedReportingOrganisationGroup"}})],1)],1)]:e._e()],2)],1)}),[],!1,null,"7ffee764",null);t.default=component.exports},466:function(e,t,n){"use strict";n(460)},467:function(e,t,n){var r=n(58)(!1);r.push([e.i,"div.input-group.nowrap[data-v-7ffee764]{flex-wrap:nowrap;width:100%}.no-margin .form-group[data-v-7ffee764]{margin-bottom:0}.btn-outline-secondary[data-v-7ffee764]{border-color:rgba(60,60,60,.26)}",""]),e.exports=r}}]);