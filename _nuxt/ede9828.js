(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{449:function(t,e,n){"use strict";n.d(e,"a",(function(){return v})),n.d(e,"b",(function(){return y}));var r,l=n(445),c=n(8);function o(t,e,n,l){t(e,n),void 0!==l&&l.emit(r.ChartRendered)}function d(t,e){t.destroy(),void 0!==e&&e.emit(r.ChartDestroyed)}function h(t,e,n){const r=[];t.datasets=e.datasets.map((e=>{const l=t.datasets.find((t=>t[n]===e[n]));return l&&e.data&&!r.includes(l)?(r.push(l),Object.assign(l,e),l):{...e}}))}!function(t){t.ChartRendered="chart:rendered",t.ChartUpdated="chart:updated",t.ChartDestroyed="chart:destroyed",t.LabelsUpdated="labels:updated"}(r||(r={}));const f=(t,e,n)=>Object(c.defineComponent)({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(t,f){l.e.register(n);const v=Object(c.shallowRef)(null),y=Object(c.ref)(null);function m(data,n){if(null!==v.value&&d(Object(c.toRaw)(v.value),f),null===y.value)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");{const r=function(data,t){const e={labels:void 0===data.labels?[]:[...data.labels],datasets:[]};return h(e,{...data},t),e}(data,t.datasetIdKey),o=y.value.getContext("2d");null!==o&&(v.value=new l.e(o,{type:e,data:Object(c.isProxy)(data)?new Proxy(r,{}):r,options:n,plugins:t.plugins}))}}function O(e,n){const l=Object(c.isProxy)(e)?Object(c.toRaw)(e):{...e},y=Object(c.isProxy)(n)?Object(c.toRaw)(n):{...n};if(Object.keys(y).length>0){const e=Object(c.toRaw)(v.value),n=function(t,e){const n=t.datasets.map((t=>t.label)),r=e.datasets.map((t=>t.label));return e.datasets.length===t.datasets.length&&n.every(((t,e)=>t===r[e]))}(l,y);n&&null!==e?(h(null==e?void 0:e.data,l,t.datasetIdKey),void 0!==l.labels&&function(t,e,n){t.data.labels=e,void 0!==n&&n.emit(r.LabelsUpdated)}(e,l.labels,f),w()):(null!==e&&d(e,f),o(m,t.chartData,t.chartOptions,f))}else null!==v.value&&d(Object(c.toRaw)(v.value),f),o(m,t.chartData,t.chartOptions,f)}function w(){const t=Object(c.toRaw)(v.value);null!==t?function(t,e){t.update(),void 0!==e&&e.emit(r.ChartUpdated)}(t,f):console.error("Update ERROR: chart instance not found")}return Object(c.watch)((()=>t.chartData),((t,e)=>O(t,e)),{deep:!0}),Object(c.watch)((()=>t.chartOptions),(e=>function(e){const n=Object(c.toRaw)(v.value);null!==n?(function(t,e){t.options={...e}}(n,e),w()):o(m,t.chartData,t.chartOptions,f)}(e)),{deep:!0}),Object(c.onMounted)((()=>{"datasets"in t.chartData&&t.chartData.datasets.length>0&&o(m,t.chartData,t.chartOptions,f)})),Object(c.onBeforeUnmount)((()=>{null!==v.value&&d(Object(c.toRaw)(v.value),f)})),f.expose({chart:v,updateChart:w}),()=>Object(c.h)("div",{style:t.styles,class:t.cssClasses},[Object(c.h)("canvas",{id:t.chartId,width:t.width,height:t.height,ref:y})])}}),v=f("bar-chart","bar",l.a),y=(l.g,f("line-chart","line",l.j));l.l,l.m,l.n,l.c,l.o},451:function(t,e,n){var content=n(455);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(59).default)("df2a5d2c",content,!0,{sourceMap:!1})},454:function(t,e,n){"use strict";n(451)},455:function(t,e,n){var r=n(58)(!1);r.push([t.i,".bar-chart[data-v-10a72cdf]{width:100%;height:400px}",""]),t.exports=r},461:function(t,e,n){"use strict";n.r(e);n(14),n(42),n(21),n(16);var r=n(449),l=n(445);l.e.register(l.p,l.q,l.i,l.b,l.d,l.k);var c={data:function(){return{isBusy:!0}},props:{cells:{default:function(){return[]}},drilldown:{default:null},currency:{default:"usd"},datasets:{default:function(){return[]}},clickable:{default:!1},height:{default:"400px"},selectedDrilldown:{default:function(){return function(){}}}},components:{Bar:r.a},methods:{handleClick:function(t,e){if(0!=this.clickable&&0!=e.length){e[0]._index;var n=this.cells[e[0]._index];this.selectedDrilldown(n["".concat(this.drilldown,".code")])}}},computed:{valueLabel:function(){return"".concat(this.$t("dataDashboards.amount")," (").concat(this.selectedCurrencyLabel,")")},selectedCurrencyLabel:function(){return this.$t("dataDashboards.currencies")[this.currency]},barChartHeight:function(){return"height: ".concat(this.height,";")},barChartOptions:function(){var t=this;return{onClick:this.handleClick,onHover:function(e,n){0!=t.clickable&&(e.native.target.style.cursor=n[0]?"pointer":"default")},maintainAspectRatio:!1,tooltips:{callbacks:{title:function(e,data){return t.chartData.labels[e[0].index]},label:function(e,data){var n=data.datasets[e.datasetIndex].label,label="".concat(n," (").concat(t.selectedCurrencyLabel,")")||!1;return label&&(label+=": "),label+=e.yLabel.toLocaleString(void 0,{maximumFractionDigits:1,minimumFractionDigits:1}),label}}},scales:{yAxis:{ticks:{beginAtZero:!0,callback:function(t){return t.toLocaleString(void 0,{maximumFractionDigits:0,minimumFractionDigits:0})}},title:{display:!0,text:this.valueLabel}},xAxis:{ticks:{callback:function(t,e,n){var r=this.getLabelForValue(t);return(null==r?void 0:r.length)>=20?r.slice(0,r.length).substring(0,19).trim()+"...":r}}}}}},chartData:function(){var t=this;return{datasets:this.datasets.map((function(e){return{label:e.label,fill:!0,data:t.cells.map((function(t){return t[e.field]})),backgroundColor:e.backgroundColor}})),labels:this.cells.map((function(e){return e[t.drilldown]}))}}}},o=(n(454),n(38)),component=Object(o.a)(c,(function(){var t=this,e=t._self._c;return e("div",[e("Bar",{ref:"barChart",staticClass:"bar-chart",style:t.barChartHeight,attrs:{"chart-data":t.chartData,"chart-options":t.barChartOptions}})],1)}),[],!1,null,"10a72cdf",null);e.default=component.exports}}]);