/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[3,11],{446:function(t,e,o){o(448)},448:function(t,e,o){"use strict";var n=o(11),r=o(24),l=o(17),c=o(55),h=o(26),f=o(157),d=o(36),y=o(79),x=o(197),m=o(298),v=o(27),w=o(56),O=v("replace"),j=TypeError,M=l("".indexOf),S=l("".replace),k=l("".slice),E=Math.max,P=function(t,e,o){return o>t.length?-1:""===e?o:M(t,e,o)};n({target:"String",proto:!0},{replaceAll:function(t,e){var o,n,l,v,_,T,F,C,R,D=c(this),X=0,V=0,W="";if(null!=t){if((o=f(t))&&(n=d(c(x(t))),!~M(n,"g")))throw j("`.replaceAll` does not allow non-global regexes");if(l=y(t,O))return r(l,t,D,e);if(w&&o)return S(d(D),t,e)}for(v=d(D),_=d(t),(T=h(e))||(e=d(e)),F=_.length,C=E(1,F),X=P(v,_,0);-1!==X;)R=T?d(e(_,X,v)):m(_,v,X,[],void 0,e),W+=k(v,V,X)+R,V=X+F,X=P(v,_,X+C);return V<v.length&&(W+=k(v,V)),W}})},449:function(t,e,o){"use strict";o.d(e,"a",(function(){return y})),o.d(e,"b",(function(){return x}));var n,r=o(445),l=o(8);function c(t,e,o,r){t(e,o),void 0!==r&&r.emit(n.ChartRendered)}function h(t,e){t.destroy(),void 0!==e&&e.emit(n.ChartDestroyed)}function f(t,e,o){const n=[];t.datasets=e.datasets.map((e=>{const r=t.datasets.find((t=>t[o]===e[o]));return r&&e.data&&!n.includes(r)?(n.push(r),Object.assign(r,e),r):{...e}}))}!function(t){t.ChartRendered="chart:rendered",t.ChartUpdated="chart:updated",t.ChartDestroyed="chart:destroyed",t.LabelsUpdated="labels:updated"}(n||(n={}));const d=(t,e,o)=>Object(l.defineComponent)({props:{chartData:{type:Object,required:!0},chartOptions:{type:Object,default:()=>{}},datasetIdKey:{type:String,default:"label"},chartId:{type:String,default:t},width:{type:Number,default:400},height:{type:Number,default:400},cssClasses:{type:String,default:""},styles:{type:Object,default:()=>{}},plugins:{type:Array,default:()=>[]}},setup(t,d){r.e.register(o);const y=Object(l.shallowRef)(null),x=Object(l.ref)(null);function m(data,o){if(null!==y.value&&h(Object(l.toRaw)(y.value),d),null===x.value)throw new Error("Please remove the <template></template> tags from your chart component. See https://vue-chartjs.org/guide/#vue-single-file-components");{const n=function(data,t){const e={labels:void 0===data.labels?[]:[...data.labels],datasets:[]};return f(e,{...data},t),e}(data,t.datasetIdKey),c=x.value.getContext("2d");null!==c&&(y.value=new r.e(c,{type:e,data:Object(l.isProxy)(data)?new Proxy(n,{}):n,options:o,plugins:t.plugins}))}}function v(e,o){const r=Object(l.isProxy)(e)?Object(l.toRaw)(e):{...e},x=Object(l.isProxy)(o)?Object(l.toRaw)(o):{...o};if(Object.keys(x).length>0){const e=Object(l.toRaw)(y.value),o=function(t,e){const o=t.datasets.map((t=>t.label)),n=e.datasets.map((t=>t.label));return e.datasets.length===t.datasets.length&&o.every(((t,e)=>t===n[e]))}(r,x);o&&null!==e?(f(null==e?void 0:e.data,r,t.datasetIdKey),void 0!==r.labels&&function(t,e,o){t.data.labels=e,void 0!==o&&o.emit(n.LabelsUpdated)}(e,r.labels,d),w()):(null!==e&&h(e,d),c(m,t.chartData,t.chartOptions,d))}else null!==y.value&&h(Object(l.toRaw)(y.value),d),c(m,t.chartData,t.chartOptions,d)}function w(){const t=Object(l.toRaw)(y.value);null!==t?function(t,e){t.update(),void 0!==e&&e.emit(n.ChartUpdated)}(t,d):console.error("Update ERROR: chart instance not found")}return Object(l.watch)((()=>t.chartData),((t,e)=>v(t,e)),{deep:!0}),Object(l.watch)((()=>t.chartOptions),(e=>function(e){const o=Object(l.toRaw)(y.value);null!==o?(function(t,e){t.options={...e}}(o,e),w()):c(m,t.chartData,t.chartOptions,d)}(e)),{deep:!0}),Object(l.onMounted)((()=>{"datasets"in t.chartData&&t.chartData.datasets.length>0&&c(m,t.chartData,t.chartOptions,d)})),Object(l.onBeforeUnmount)((()=>{null!==y.value&&h(Object(l.toRaw)(y.value),d)})),d.expose({chart:y,updateChart:w}),()=>Object(l.h)("div",{style:t.styles,class:t.cssClasses},[Object(l.h)("canvas",{id:t.chartId,width:t.width,height:t.height,ref:x})])}}),y=d("bar-chart","bar",r.a),x=(r.g,d("line-chart","line",r.j));r.l,r.m,r.n,r.c,r.o},459:function(t,e,o){(function(e){var o=/^\s+|\s+$/g,n=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,l=/^0o[0-7]+$/i,c=parseInt,h="object"==typeof e&&e&&e.Object===Object&&e,f="object"==typeof self&&self&&self.Object===Object&&self,d=h||f||Function("return this")(),y=Object.prototype.toString,x=Math.max,m=Math.min,v=function(){return d.Date.now()};function w(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function O(t){if("number"==typeof t)return t;if(function(t){return"symbol"==typeof t||function(t){return!!t&&"object"==typeof t}(t)&&"[object Symbol]"==y.call(t)}(t))return NaN;if(w(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=w(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(o,"");var h=r.test(t);return h||l.test(t)?c(t.slice(2),h?2:8):n.test(t)?NaN:+t}t.exports=function(t,e,o){var n,r,l,c,h,f,d=0,y=!1,j=!1,M=!0;if("function"!=typeof t)throw new TypeError("Expected a function");function S(time){var e=n,o=r;return n=r=void 0,d=time,c=t.apply(o,e)}function k(time){return d=time,h=setTimeout(P,e),y?S(time):c}function E(time){var t=time-f;return void 0===f||t>=e||t<0||j&&time-d>=l}function P(){var time=v();if(E(time))return _(time);h=setTimeout(P,function(time){var t=e-(time-f);return j?m(t,l-(time-d)):t}(time))}function _(time){return h=void 0,M&&n?S(time):(n=r=void 0,c)}function T(){var time=v(),t=E(time);if(n=arguments,r=this,f=time,t){if(void 0===h)return k(f);if(j)return h=setTimeout(P,e),S(f)}return void 0===h&&(h=setTimeout(P,e)),c}return e=O(e)||0,w(o)&&(y=!!o.leading,l=(j="maxWait"in o)?x(O(o.maxWait)||0,e):l,M="trailing"in o?!!o.trailing:M),T.cancel=function(){void 0!==h&&clearTimeout(h),d=0,n=f=r=h=void 0},T.flush=function(){return void 0===h?c:_(v())},T}}).call(this,o(61))},471:function(t,e,o){"use strict";o.d(e,"a",(function(){return P})),o.d(e,"b",(function(){return S}));var n=o(445),r=o(439);function l(t){return t&&-1!==["min","max"].indexOf(t)?t:"max"}const c=t=>void 0!==t;function h(t,e){const o=t.filter((t=>!e.has(t)));return o.length?o:t.slice(0,1)}const f=(a,b)=>a.x!==b.x?a.x-b.x:a.y-b.y;let d=-1;function y(t,e,o=function(){return d=d<100?d+1:0,d}()){let n=0;for(const r of t)r.node._visited!==o&&(r.node._visited=o,n+=r.node[e].length+y(r.node[e],e,o));return n}const x=t=>(a,b)=>y(a.node[t],t)-y(b.node[t],t)||a.node[t].length-b.node[t].length;function m(t,e){t.from.sort(x("from"));for(const o of t.from){const t=o.node;c(t.y)||(t.y=e,m(t,e)),e=Math.max(t.y+t.out,e)}return e}function v(t,e){t.to.sort(x("to"));for(const o of t.to){const t=o.node;c(t.y)||(t.y=e,v(t,e)),e=Math.max(t.y+t.in,e)}return e}function w(t,e){return c(t.y)?t.y:(t.y=e,e)}function O(t,e){t.sort(((a,b)=>Math.max(b.in,b.out)-Math.max(a.in,a.out)));const o=t[0];o.y=0;const n=m(o,0),r=v(o,0),l=function(t,e){const o=t.filter((t=>0===t.x)),n=t.filter((t=>t.x===e)),r=o.filter((t=>!c(t.y))),l=n.filter((t=>!c(t.y))),h=t.filter((t=>t.x>0&&t.x<e&&!c(t.y)));let f=o.reduce(((t,e)=>Math.max(t,e.y+e.out||0)),0),d=n.reduce(((t,e)=>Math.max(t,e.y+e.in||0)),0),y=0;return f>=d?(r.forEach((t=>{f=w(t,f),f=Math.max(f+t.out,v(t,f))})),l.forEach((t=>{d=w(t,d),d=Math.max(d+t.in,v(t,d))}))):(l.forEach((t=>{d=w(t,d),d=Math.max(d+t.in,v(t,d))})),r.forEach((t=>{f=w(t,f),f=Math.max(f+t.out,v(t,f))}))),h.forEach((e=>{let o=t.filter((t=>t.x===e.x&&c(t.y))).reduce(((t,e)=>Math.max(t,e.y+Math.max(e.in,e.out))),0);o=w(e,o),o=Math.max(o+e.in,m(e,o)),o=Math.max(o+e.out,v(e,o)),y=Math.max(y,o)})),Math.max(f,d,y)}(t,e);return Math.max(n,r,l)}function j(t,data,e,o){const n=[...t.values()],r=function(t,data){const e=new Set(data.map((t=>t.to))),o=new Set(data.map((t=>t.from))),n=new Set([...t.keys()]);let r=0;for(;n.size;){const o=h([...n],e);for(const e of o){const o=t.get(e);c(o.x)||(o.x=r),n.delete(e)}n.size&&(e.clear(),data.filter((t=>n.has(t.from))).forEach((t=>e.add(t.to))),r++)}return[...t.keys()].filter((t=>!o.has(t))).forEach((e=>{const o=t.get(e);o.column||(o.x=r)})),r}(t,data),l=e?function(t,e){let o=0,n=0;for(let r=0;r<=e;r++){let e=n;const l=t.filter((t=>t.x===r)).sort(((a,b)=>a.priority-b.priority));n=l[0].to.filter((t=>t.node.x>r+1)).reduce(((t,e)=>t+e.flow),0)||0;for(const t of l)t.y=e,e+=Math.max(t.out,t.in);o=Math.max(e,o)}return o}(n,r):O(n,r),d=function(t,e){let i=1,o=0,n=0,r=0;const l=[];t.sort(f);for(const c of t){if(c.y){if(0===c.x)l.push(c.y);else{for(o!==c.x&&(o=c.x,n=0),i=n+1;i<l.length&&!(l[i]>c.y);i++);n=i}c.y+=i*e,i++}r=Math.max(r,c.y+Math.max(c.in,c.out))}return r}(n,.03*l);return function(t,e){t.forEach((t=>{const o=Math[e](t.in||t.out,t.out||t.in),n=o<t.in,r=o<t.out;let l=0,c=t.from.length;t.from.sort(((a,b)=>a.node.y+a.node.out/2-(b.node.y+b.node.out/2))).forEach(((t,e)=>{n?t.addY=e*(o-t.flow)/(c-1):(t.addY=l,l+=t.flow)})),l=0,c=t.to.length,t.to.sort(((a,b)=>a.node.y+a.node.in/2-(b.node.y+b.node.in/2))).forEach(((t,e)=>{r?t.addY=e*(o-t.flow)/(c-1):(t.addY=l,l+=t.flow)}))}))}(n,o),{maxX:r,maxY:d}}function M(t,e,o){for(const n of t)if(n.key===e&&n.index===o)return n.addY;return 0}class S extends n.f{parseObjectData(meta,data,t,e){const{from:o="from",to:n="to",flow:r="flow"}=this.options.parsing,c=data.map((({[o]:t,[n]:e,[r]:l})=>({from:t,to:e,flow:l}))),{xScale:h,yScale:f}=meta,d=[],y=this._nodes=function(data){const t=new Map;for(let i=0;i<data.length;i++){const{from:e,to:o,flow:n}=data[i];if(t.has(e)){const r=t.get(e);r.out+=n,r.to.push({key:o,flow:n,index:i})}else t.set(e,{key:e,in:0,out:n,from:[],to:[{key:o,flow:n,index:i}]});if(t.has(o)){const r=t.get(o);r.in+=n,r.from.push({key:e,flow:n,index:i})}else t.set(o,{key:o,in:n,out:0,from:[{key:e,flow:n,index:i}],to:[]})}const e=(a,b)=>b.flow-a.flow;return[...t.values()].forEach((o=>{o.from=o.from.sort(e),o.from.forEach((e=>{e.node=t.get(e.key)})),o.to=o.to.sort(e),o.to.forEach((e=>{e.node=t.get(e.key)}))})),t}(c),{column:x,priority:m,size:v}=this.getDataset();if(m)for(const t of y.values())t.key in m&&(t.priority=m[t.key]);if(x)for(const t of y.values())t.key in x&&(t.column=!0,t.x=x[t.key]);const{maxX:w,maxY:O}=j(y,c,!!m,l(v));this._maxX=w,this._maxY=O;for(let i=0,t=c.length;i<t;++i){const t=c[i],e=y.get(t.from),o=y.get(t.to),n=e.y+M(e.to,t.to,i),r=o.y+M(o.from,t.from,i);d.push({x:h.parse(e.x,i),y:f.parse(n,i),_custom:{from:e,to:o,x:h.parse(o.x,i),y:f.parse(r,i),height:f.parse(t.flow,i)}})}return d.slice(t,t+e)}getMinMax(t){return{min:0,max:t===this._cachedMeta.xScale?this._maxX:this._maxY}}update(t){const{data:data}=this._cachedMeta;this.updateElements(data,0,data.length,t)}updateElements(t,e,o,n){const{xScale:l,yScale:c}=this._cachedMeta,h=this.resolveDataElementOptions(e,n),f=this.getSharedOptions(n,t[e],h),d=this.getDataset(),y=Object(r.Xb)(d.borderWidth,1)/2+.5,x=Object(r.Xb)(d.nodeWidth,10);for(let i=e;i<e+o;i++){const e=this.getParsed(i),o=e._custom,r=c.getPixelForValue(e.y);this.updateElement(t[i],i,{x:l.getPixelForValue(e.x)+x+y,y:r,x2:l.getPixelForValue(o.x)-y,y2:c.getPixelForValue(o.y),from:o.from,to:o.to,progress:"reset"===n?0:1,height:Math.abs(c.getPixelForValue(e.y+o.height)-r),options:this.resolveDataElementOptions(i,n)},n)}this.updateSharedOptions(f,n)}_drawLabels(){const t=this._ctx,e=this._nodes||new Map,o=this.getDataset(),n=l(o.size),c=Object(r.Xb)(o.borderWidth,1),h=Object(r.Xb)(o.nodeWidth,10),f=o.labels,{xScale:d,yScale:y}=this._cachedMeta;t.save();const x=this.chart.chartArea;for(const r of e.values()){const e=d.getPixelForValue(r.x),l=y.getPixelForValue(r.y),m=Math[n](r.in||r.out,r.out||r.in),v=Math.abs(y.getPixelForValue(r.y+m)-l),label=f&&f[r.key]||r.key;let w=e;t.fillStyle=o.color||"black",t.textBaseline="middle",e<x.width/2?(t.textAlign="left",w+=h+c+4):(t.textAlign="right",w-=c+4),this._drawLabel(label,l,v,t,w)}t.restore()}_drawLabel(label,t,e,o,n){const l=Object(r.p)(this.options.font,this.chart.options.font),c=Object(r.Mb)(label)?[]:function(t){const e=[],o=Object(r.Db)(t)?t:Object(r.Mb)(t)?[]:[t];for(;o.length;){const input=o.pop();"string"==typeof input?e.unshift.apply(e,input.split("\n")):Array.isArray(input)?o.push.apply(o,input):Object(r.Mb)(o)||e.unshift(""+input)}return e}(label),h=c.length,f=t+e/2,d=l.lineHeight,y=Object(r.Xb)(this.options.padding,d/2);if(o.font=l.string,h>1){const t=f-d*h/2+y;for(let i=0;i<h;i++)o.fillText(c[i],n,t+i*d)}else o.fillText(label,n,f)}_drawNodes(){const t=this._ctx,e=this._nodes||new Map,o=this.getDataset(),n=l(o.size),{xScale:c,yScale:h}=this._cachedMeta,f=Object(r.Xb)(o.borderWidth,1),d=Object(r.Xb)(o.nodeWidth,10);t.save(),t.strokeStyle=o.borderColor||"black",t.lineWidth=f;for(const o of e.values()){t.fillStyle=o.color;const e=c.getPixelForValue(o.x),r=h.getPixelForValue(o.y),l=Math[n](o.in||o.out,o.out||o.in),y=Math.abs(h.getPixelForValue(o.y+l)-r);f&&t.strokeRect(e,r,d,y),t.fillRect(e,r,d,y)}t.restore()}draw(){const t=this._ctx,data=this.getMeta().data||[],e=[];for(let i=0,t=data.length;i<t;++i){const t=data[i];t.from.color=t.options.colorFrom,t.to.color=t.options.colorTo,t.active&&e.push(t)}for(const t of e)t.from.color=t.options.colorFrom,t.to.color=t.options.colorTo;this._drawNodes();for(let i=0,e=data.length;i<e;++i)data[i].draw(t);this._drawLabels()}}S.id="sankey",S.defaults={dataElementType:"flow",animations:{numbers:{type:"number",properties:["x","y","x2","y2","height"]},progress:{easing:"linear",duration:t=>"data"===t.type?200*(t.parsed._custom.x-t.parsed.x):void 0,delay:t=>"data"===t.type?500*t.parsed.x+20*t.dataIndex:void 0},colors:{type:"color",properties:["colorFrom","colorTo"]}},transitions:{hide:{animations:{colors:{type:"color",properties:["colorFrom","colorTo"],to:"transparent"}}},show:{animations:{colors:{type:"color",properties:["colorFrom","colorTo"],from:"transparent"}}}}},S.overrides={interaction:{mode:"nearest",intersect:!0},datasets:{clip:!1,parsing:!0},plugins:{tooltip:{callbacks:{title:()=>"",label(t){const e=t.dataset.data[t.dataIndex];return e.from+" -> "+e.to+": "+e.flow}}},legend:{display:!1}},scales:{x:{type:"linear",bounds:"data",display:!1,min:0,offset:!1},y:{type:"linear",bounds:"data",display:!1,min:0,reverse:!0,offset:!1}},layout:{padding:{top:3,left:3,right:13,bottom:3}}};const k=(t,e,o,n)=>t<o?{cp1:{x:t+(o-t)/3*2,y:e},cp2:{x:t+(o-t)/3,y:n}}:{cp1:{x:t-(t-o)/3,y:0},cp2:{x:o+(t-o)/3,y:0}},E=(t,e,o)=>({x:t.x+o*(e.x-t.x),y:t.y+o*(e.y-t.y)});class P extends n.h{constructor(t){super(),this.options=void 0,this.x=void 0,this.y=void 0,this.x2=void 0,this.y2=void 0,this.height=void 0,t&&Object.assign(this,t)}draw(t){const{x:e,x2:o,y:n,y2:l,height:c,progress:progress}=this,{cp1:h,cp2:f}=k(e,n,o,l);0!==progress&&(t.save(),progress<1&&(t.beginPath(),t.rect(e,Math.min(n,l),(o-e)*progress+1,Math.abs(l-n)+c+1),t.clip()),function(t,{x:e,x2:o,options:n}){let l;"from"===n.colorMode?l=Object(r.Eb)(n.colorFrom).alpha(.5).rgbString():"to"===n.colorMode?l=Object(r.Eb)(n.colorTo).alpha(.5).rgbString():(l=t.createLinearGradient(e,0,o,0),l.addColorStop(0,Object(r.Eb)(n.colorFrom).alpha(.5).rgbString()),l.addColorStop(1,Object(r.Eb)(n.colorTo).alpha(.5).rgbString())),t.fillStyle=l,t.strokeStyle=l,t.lineWidth=.5}(t,this),t.beginPath(),t.moveTo(e,n),t.bezierCurveTo(h.x,h.y,f.x,f.y,o,l),t.lineTo(o,l+c),t.bezierCurveTo(f.x,f.y+c,h.x,h.y+c,e,n+c),t.lineTo(e,n),t.stroke(),t.closePath(),t.fill(),t.restore())}inRange(t,e,o){const{x:n,y:r,x2:l,y2:c,height:h}=this.getProps(["x","y","x2","y2","height"],o);if(t<n||t>l)return!1;const{cp1:f,cp2:d}=k(n,r,l,c),y=(t-n)/(l-n),x={x:l,y:c},a=E({x:n,y:r},f,y),b=E(f,d,y),m=E(d,x,y),v=E(a,b,y),w=E(b,m,y),O=E(v,w,y).y;return e>=O&&e<=O+h}inXRange(t,e){const{x:o,x2:n}=this.getProps(["x","x2"],e);return t>=o&&t<=n}inYRange(t,e){const{y:o,y2:n,height:r}=this.getProps(["y","y2","height"],e),l=Math.min(o,n),c=Math.max(o,n)+r;return t>=l&&t<=c}getCenterPoint(t){const{x:e,y:o,x2:n,y2:r,height:l}=this.getProps(["x","y","x2","y2","height"],t);return{x:(e+n)/2,y:(o+r+l)/2}}tooltipPosition(t){return this.getCenterPoint(t)}getRange(t){return"x"===t?this.width/2:this.height/2}}P.id="flow",P.defaults={colorFrom:"red",colorTo:"green",colorMode:"gradient",hoverColorFrom:(t,e)=>Object(r.cb)(e.colorFrom),hoverColorTo:(t,e)=>Object(r.cb)(e.colorTo)}}}]);